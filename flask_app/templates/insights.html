{% extends 'base.html' %}
{% block title %}
Insights
{% endblock %}
{% block css %}
<link rel="stylesheet" href="{{url_for('static', filename='css/insights.css')}}" />
{% endblock %}
{% block js %}
<script src="{{url_for('static', filename='scripts/insights.js')}}" defer></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
{% endblock %}
{% block body %}
<div class="main-content">
    <div class="container mt-5">
        <h1>Indices Insights</h1>
    
        <div class="mb-3">
            <label for="indiceSelect" class="form-label">Select Indice:</label>
            <select id="indiceSelect" class="form-select" onchange="updateStocks()">
                <option value="">-- Select an Indice --</option>
                {% for indice in indices %}
                    <option value="{{ indice }}">{{ indice }}</option>
                {% endfor %}
            </select>
        </div>
    
        <div id="stocksList" class="mt-3">
            <h2>Stocks in Selected Indice:</h2>
            <ul id="stocksUl" class="list-group" style="
            color: black;
            height: 50vh;
            overflow: scroll;">
                <!-- Stocks will be populated here based on selection -->
            </ul>
        </div>
    </div>
</div>
<script>
    const indiceStocks = {{ indice_stocks|tojson }};
</script>
{% endblock %}